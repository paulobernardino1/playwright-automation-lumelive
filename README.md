# üé≠ Playwright Automation - Sauce Demo

> Projeto de automa√ß√£o de testes E2E (End-to-End) utilizando Playwright para validar funcionalidades do site [Sauce Demo](https://www.saucedemo.com/v1/index.html).

## üìã √çndice

- [Sobre o Projeto](#sobre-o-projeto)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Pr√©-requisitos](#pr√©-requisitos)
- [Instala√ß√£o](#instala√ß√£o)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Como Executar os Testes](#como-executar-os-testes)
- [Entendendo os Testes](#entendendo-os-testes)
- [Configura√ß√µes](#configura√ß√µes)
- [Relat√≥rios](#relat√≥rios)
- [Boas Pr√°ticas](#boas-pr√°ticas)
- [Troubleshooting](#troubleshooting)

---

## üéØ Sobre o Projeto

Este projeto tem como objetivo automatizar testes de interface do site **Sauce Demo**, uma aplica√ß√£o de e-commerce fict√≠cia utilizada para pr√°ticas de automa√ß√£o de testes. 

**Funcionalidades testadas:**
- ‚úÖ Login com credenciais v√°lidas
- ‚úÖ Valida√ß√£o de t√≠tulo da p√°gina ap√≥s login
- ‚úÖ Navega√ß√£o entre p√°ginas

---

## üöÄ Tecnologias Utilizadas

| Tecnologia | Vers√£o | Descri√ß√£o |
|------------|--------|-----------|
| **Node.js** | >=18 | Ambiente de execu√ß√£o JavaScript |
| **Playwright** | 1.56.1 | Framework de automa√ß√£o de testes |
| **@playwright/test** | 1.56.1 | Test runner do Playwright |
| **JavaScript (ESM)** | ES6+ | Linguagem utilizada |

---

## üì¶ Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado em sua m√°quina:

- **Node.js** (vers√£o 18 ou superior) - [Download aqui](https://nodejs.org/)
- **npm** (geralmente vem com Node.js)
- **Git** (opcional, para clonar o reposit√≥rio)
- **VS Code** (recomendado) - [Download aqui](https://code.visualstudio.com/)

### Verificando as instala√ß√µes:

```bash
node --version  # Deve retornar v18.x.x ou superior
npm --version   # Deve retornar uma vers√£o (ex: 9.x.x)
```

---

## üîß Instala√ß√£o

Siga os passos abaixo para configurar o projeto em sua m√°quina:

### 1Ô∏è‚É£ Clone ou baixe o projeto

```bash
# Se estiver usando Git
git clone <url-do-repositorio>
cd playwright-automation-lumelive

# Ou apenas extraia o ZIP do projeto e navegue at√© a pasta
```

### 2Ô∏è‚É£ Instale as depend√™ncias

```bash
npm install
```

**O que esse comando faz:**
- Instala o Playwright e suas depend√™ncias
- Baixa os navegadores necess√°rios (Chromium, Firefox, WebKit)
- Configura o ambiente de testes

### 3Ô∏è‚É£ Instale os navegadores do Playwright

```bash
npx playwright install
```

**O que esse comando faz:**
- Baixa os bin√°rios dos navegadores (Chromium, Firefox, WebKit)
- Configura os drivers necess√°rios
- Prepara o ambiente para execu√ß√£o dos testes

> ‚ö†Ô∏è **Nota:** Este comando pode demorar alguns minutos, pois faz download dos navegadores.

### 4Ô∏è‚É£ Verifique a instala√ß√£o

```bash
npx playwright --version
```

Deve retornar: `Version 1.56.1`

---

## üìÅ Estrutura do Projeto

```
playwright-automation-lumelive/
‚îÇ
‚îú‚îÄ‚îÄ tests/                      # Pasta com todos os arquivos de teste
‚îÇ   ‚îî‚îÄ‚îÄ (seus arquivos .spec.js aqui)
‚îÇ
‚îú‚îÄ‚îÄ example.spec.js             # Exemplo de teste de login
‚îú‚îÄ‚îÄ playwright.config.js        # Configura√ß√µes do Playwright
‚îú‚îÄ‚îÄ package.json                # Depend√™ncias e scripts do projeto
‚îú‚îÄ‚îÄ package-lock.json           # Lock das vers√µes das depend√™ncias
‚îú‚îÄ‚îÄ .gitignore                  # Arquivos ignorados pelo Git
‚îÇ
‚îú‚îÄ‚îÄ node_modules/               # Depend√™ncias instaladas (gerado)
‚îú‚îÄ‚îÄ test-results/               # Resultados dos testes (gerado)
‚îî‚îÄ‚îÄ playwright-report/          # Relat√≥rios HTML (gerado)
```

### üìÑ Descri√ß√£o dos arquivos principais:

- **`example.spec.js`**: Arquivo de teste de exemplo que valida o login no Sauce Demo
- **`playwright.config.js`**: Arquivo de configura√ß√£o do Playwright (navegadores, timeouts, etc.)
- **`package.json`**: Define as depend√™ncias do projeto e metadados
- **`.gitignore`**: Evita que arquivos desnecess√°rios sejam versionados

---

## ‚ñ∂Ô∏è Como Executar os Testes

### Comando b√°sico (executa todos os testes)

```bash
npx playwright test
```

**O que acontece:**
- Executa todos os arquivos `.spec.js` encontrados
- Roda em modo headless (sem interface gr√°fica)
- Gera relat√≥rio HTML ao final

### Executar com interface gr√°fica (modo headed)

```bash
npx playwright test --headed
```

**Quando usar:** Para visualizar o navegador executando os testes em tempo real.

### Executar um teste espec√≠fico

```bash
npx playwright test example.spec.js
```

### Executar em modo debug

```bash
npx playwright test --debug
```

**O que acontece:**
- Abre o Playwright Inspector
- Permite executar os testes passo a passo
- √ötil para identificar problemas

### Executar com UI Mode (recomendado para desenvolvimento)

```bash
npx playwright test --ui
```

**O que acontece:**
- Abre uma interface gr√°fica moderna
- Permite executar, debugar e visualizar os testes
- Mostra screenshots e traces automaticamente

### Ver o √∫ltimo relat√≥rio gerado

```bash
npx playwright show-report
```

---

## üß™ Entendendo os Testes

### Arquivo: `example.spec.js`

```javascript
// @ts-check
import { test, expect } from '@playwright/test';

test('teste de login com sucesso', async ({page}) => {
  // 1. Navega at√© a p√°gina inicial do Sauce Demo
  await page.goto('https://www.saucedemo.com/v1/index.html')
  
  // 2. Preenche o campo de usu√°rio
  await page.locator('[data-test="username"]').fill('standard_user')
  
  // 3. Preenche o campo de senha
  await page.locator('[data-test="password"]').fill('secret_sauce')
  
  // 4. Clica no bot√£o de login
  await page.locator('[id="login-button"]').click()
  
  // 5. Valida se o t√≠tulo da p√°gina cont√©m "Swag Labs"
  await expect(page).toHaveTitle(/Swag Labs/)
})
```

### üìñ Explica√ß√£o linha por linha:

#### **Importa√ß√µes**
```javascript
import { test, expect } from '@playwright/test';
```
- **`test`**: Fun√ß√£o para criar um caso de teste
- **`expect`**: Fun√ß√£o para fazer asser√ß√µes (valida√ß√µes)

#### **Estrutura do teste**
```javascript
test('teste de login com sucesso', async ({page}) => {
```
- **`test()`**: Define um novo teste
- **`'teste de login com sucesso'`**: Nome descritivo do teste
- **`async`**: Indica que o teste √© ass√≠ncrono
- **`{page}`**: Objeto que representa a p√°gina do navegador

#### **Comandos do teste**

1. **`await page.goto('url')`**
   - Navega at√© a URL especificada
   - Aguarda a p√°gina carregar completamente

2. **`await page.locator('[data-test="username"]').fill('standard_user')`**
   - **`page.locator()`**: Localiza um elemento na p√°gina
   - **`[data-test="username"]`**: Seletor CSS do campo
   - **`.fill()`**: Preenche o campo com o texto

3. **`await page.locator('[id="login-button"]').click()`**
   - Localiza o bot√£o de login pelo ID
   - Clica no bot√£o

4. **`await expect(page).toHaveTitle(/Swag Labs/)`**
   - **`expect()`**: Inicia uma asser√ß√£o
   - **`toHaveTitle()`**: Valida o t√≠tulo da p√°gina
   - **`/Swag Labs/`**: Express√£o regular que verifica se o t√≠tulo cont√©m "Swag Labs"

---

## ‚öôÔ∏è Configura√ß√µes

### Arquivo: `playwright.config.js`

Principais configura√ß√µes do projeto:

```javascript
export default defineConfig({
  testDir: './tests',           // Pasta onde os testes est√£o
  fullyParallel: true,          // Executa testes em paralelo
  retries: 0,                   // N√∫mero de tentativas em caso de falha
  workers: undefined,           // N√∫mero de workers paralelos
  reporter: 'html',             // Tipo de relat√≥rio (HTML)
  
  use: {
    trace: 'on-first-retry',    // Gera trace apenas na primeira retry
  },
  
  projects: [
    {
      name: 'chromium',         // Executa apenas no Chromium
      use: { ...devices['Desktop Chrome'] },
    },
  ],
});
```

### üîß Personaliza√ß√µes comuns:

#### Adicionar timeout global (padr√£o: 30s)
```javascript
use: {
  actionTimeout: 10000,  // 10 segundos para cada a√ß√£o
}
```

#### Executar em m√∫ltiplos navegadores
```javascript
projects: [
  { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
  { name: 'firefox', use: { ...devices['Desktop Firefox'] } },
  { name: 'webkit', use: { ...devices['Desktop Safari'] } },
]
```

#### Modo headless/headed
```javascript
use: {
  headless: false,  // Mostra o navegador
}
```

#### Configurar viewport (tamanho da janela)
```javascript
use: {
  viewport: { width: 1920, height: 1080 },
}
```

---

## üìä Relat√≥rios

### Tipos de relat√≥rios dispon√≠veis:

#### 1. **HTML Report** (padr√£o)
```bash
npx playwright test
npx playwright show-report
```
- Relat√≥rio visual completo
- Mostra screenshots e videos
- √ìtimo para compartilhar resultados

#### 2. **Relat√≥rio no terminal**
```bash
npx playwright test --reporter=list
```
- Mostra resultados em tempo real no terminal

#### 3. **JSON Report**
```bash
npx playwright test --reporter=json
```
- Gera arquivo JSON com resultados
- √ötil para integra√ß√£o com outras ferramentas

### üì∏ Screenshots e V√≠deos

Para capturar screenshots e v√≠deos automaticamente, adicione no `playwright.config.js`:

```javascript
use: {
  screenshot: 'only-on-failure',  // Screenshot apenas em falhas
  video: 'retain-on-failure',     // V√≠deo apenas em falhas
}
```

---

## ‚úÖ Boas Pr√°ticas

### 1. **Nomenclatura de testes**
```javascript
// ‚úÖ Bom
test('deve fazer login com credenciais v√°lidas', async ({page}) => {})

// ‚ùå Evite
test('test1', async ({page}) => {})
```

### 2. **Use data-testid para seletores**
```javascript
// ‚úÖ Bom (mais est√°vel)
await page.locator('[data-test="username"]')

// ‚ö†Ô∏è Evite quando poss√≠vel
await page.locator('#login-button')
```

### 3. **Organize testes em blocos describe**
```javascript
import { test, describe, expect } from '@playwright/test';

describe('Testes de Login', () => {
  test('deve fazer login com sucesso', async ({page}) => {})
  test('deve mostrar erro com senha inv√°lida', async ({page}) => {})
})
```

### 4. **Use beforeEach para setup**
```javascript
test.beforeEach(async ({page}) => {
  await page.goto('https://www.saucedemo.com/v1/index.html')
})
```

### 5. **Adicione waits expl√≠citos quando necess√°rio**
```javascript
// Aguarda elemento aparecer
await page.waitForSelector('.inventory_list')

// Aguarda navega√ß√£o
await page.waitForURL('**/inventory.html')
```

---

## üêõ Troubleshooting

### Problema: "Browsers not installed"
**Solu√ß√£o:**
```bash
npx playwright install
```

### Problema: Teste falha aleatoriamente
**Solu√ß√£o:** Adicione waits expl√≠citos:
```javascript
await page.waitForLoadState('networkidle')
```

### Problema: Elemento n√£o encontrado
**Solu√ß√£o:** Use o Playwright Inspector:
```bash
npx playwright test --debug
```

### Problema: Teste muito lento
**Solu√ß√£o:** Desabilite anima√ß√µes CSS:
```javascript
use: {
  hasTouch: false,
  javaScriptEnabled: true,
}
```

### Problema: Port j√° em uso (para relat√≥rios)
**Solu√ß√£o:**
```bash
npx playwright show-report --port 9323
```

---

## üìö Recursos Adicionais

- üìñ [Documenta√ß√£o Oficial do Playwright](https://playwright.dev/docs/intro)
- üé• [Playlist de tutoriais](https://www.youtube.com/c/Playwrightsolutions)
- üí¨ [Discord da comunidade](https://discord.gg/playwright)
- üêô [GitHub do Playwright](https://github.com/microsoft/playwright)

---

## üìù Comandos √öteis - Resumo

| Comando | Descri√ß√£o |
|---------|-----------|
| `npm install` | Instala depend√™ncias |
| `npx playwright install` | Instala navegadores |
| `npx playwright test` | Executa todos os testes |
| `npx playwright test --headed` | Executa com interface gr√°fica |
| `npx playwright test --ui` | Abre UI Mode |
| `npx playwright test --debug` | Modo debug |
| `npx playwright show-report` | Mostra √∫ltimo relat√≥rio |
| `npx playwright codegen <url>` | Gera c√≥digo automaticamente |

---

## üéì Pr√≥ximos Passos

1. ‚úÖ Adicione mais casos de teste (logout, adicionar produto ao carrinho, etc.)
2. ‚úÖ Configure CI/CD (GitHub Actions, GitLab CI)
3. ‚úÖ Implemente Page Objects para organizar melhor o c√≥digo
4. ‚úÖ Adicione testes de API com Playwright
5. ‚úÖ Configure testes em m√∫ltiplos ambientes (dev, staging, prod)

---

## üë®‚Äçüíª Autor

Desenvolvido com ‚ù§Ô∏è para automa√ß√£o de testes com Playwright

---

## üìÑ Licen√ßa

ISC License - Este projeto √© livre para uso e modifica√ß√£o.